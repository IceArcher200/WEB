<!DOCTYPE html>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<html>
    <head>
        <title>Калькулятор вкладов</title>
    </head>

    <body>
      <div class="container">
        <div class="row">
          <div class = "col-sm-4">
            <select id = "type" class="form-select mb-3" aria-label=".form-select-sm example" onchange="changeComboBox()">
                <option selected id="-1">Выберите тип вклада</option>
                <option value="1">Пополняемый</option>
                <option value="2">Срочный</option>
            </select>
            <select id = "first"class="form-select mb-3" disabled="true" >
            </select>
              <input id="amount" type="number" class="form-control mb-3" placeholder="Вносимая сумма" aria-label="Вносимая сумма">
              <button type = "button" class = "btn btn-primary" onclick="calculate()">
                Рассчитать
              </button>
          </div>
          <div class="col-4">
            <output id="resultBox" type="text" readonly class="form-control-plaintext border">
          </div>
        </div>
      </div>
    </body>

</html>

<script>
var first = document.getElementById("first");
var comboBox = document.getElementById("type");
function addOption(a, value)
{
    var first = document.getElementById("first");
    var option1 = document.createElement("option");
    option1.text = a;
    option1.value = value;
    first.add(option1);
}

function calculate()
{
  var resultBox = document.getElementById("resultBox");
  switch (comboBox.options[comboBox.selectedIndex].value)
  {
    case "1":
      resultBox.innerHTML = "Вклад 'Пополняемый'";
      switch(first.options[first.selectedIndex].value)
      {
        case "20":
          resultBox.innerHTML += " на срок '6 месяцев' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.1;
          break;
        case "22":
          resultBox.innerHTML += " на срок '1 год' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.22;
          break;
        case "15":
          resultBox.innerHTML += " на срок '1,5 года' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.225 ;
          break;
        case "10":
          resultBox.innerHTML += " на срок '2 года' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.2;
          break;
        default:
          alert("Something went wrong");
      }
      break;
    case "2":
      resultBox.innerHTML = "Вклад 'Срочный' ";
      switch(first.options[first.selectedIndex].value)
      {
        case "20":
          resultBox.innerHTML += " на срок '3 месяца' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.05;
          break;
        case "22":
          resultBox.innerHTML += " на срок '6 месяцев' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.11;
          break;
        case "23":
          resultBox.innerHTML += " на срок '9 месяцев' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.1725;
          break;
        case "24":
          resultBox.innerHTML += " на срок '1 год' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.24;
          break;
        case "18":
          resultBox.innerHTML += " на срок '1,5 года' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.27 ;
          break;
        case "15":
          resultBox.innerHTML += " на срок '2 года' на сумму " + amount.value + " руб. \n В конце срока вы получите " + amount.value * 1.3;
          break;
        default:
          alert("Something went wrong");
      }
      break;
    default:
      alert("Вы не выбрали тип вклада");
  }
  
}

function changeComboBox() {
  
  // Очищаем текущие варианты
  first.innerHTML = "";
  first.disabled = false;
  // Добавляем новые варианты
  if(comboBox.options[comboBox.selectedIndex].value == "1")
  {
    addOption("6 месяцев - 20%", 20);
    addOption("1 год - 22%", 22);
    addOption("1,5 года - 15%", 15);
    addOption("2 года - 10%", 10);
  }
  else if(comboBox.options[comboBox.selectedIndex].value == "2")
  {
    addOption("3 месяца - 20%", 20);
    addOption("6 месяцев - 22%", 22);
    addOption("9 месяцев - 23%", 23);
    addOption("1 год - 24%", 24);
    addOption("1,5 года - 18%", 18);
    addOption("2 года - 15%", 15);
  }
  else
  {
    first.disabled = true;
  }
  comboBox.add(option2);
}
</script>